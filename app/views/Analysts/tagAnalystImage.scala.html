@*************************************************************
* Page:        tagAnalystImage                               *
* Author:      Sav Balac                                     *
* Date:        21/10/13                                      *
* Description: Shows the profile image with upload form      *
*                                                            *
* @param analyst   The Analyst reference                     *
*************************************************************@

@( analyst: Analyst )

@import helper._

@if(analyst==null || analyst.analystId==null || analyst.analystId==0) {

    <div class="well-sm">
        <em>New analyst must be saved before the image can be uploaded</em>
    </div>

} else {

    @*******************************************
    * Don't show the image file if none exists *
    ********************************************@
    @if(analyst.profileImage!=null) {
        <div style="height:100px; width:100px;">
            <img src="@routes.Assets.at(analyst.profileImage)" align="left"
                 style="vertical-align: top; border: 0px; max-height:100%; max-width:100%">
        </div>
    }
    <br>
    @form(routes.Analysts.uploadProfileImage(analyst.analystId), 'id -> "formUpload", 'enctype -> "multipart/form-data") {
        <input type="Hidden" id="id" name="id" value="@analyst.analystId" />
        <label class="btn btn-success filebutton">
            <i class="glyphicon glyphicon-upload icon-white"></i> Upload an image
            <span><input type="file" id="imgFile" name="imgFile" onchange="uploadProfileImage()"></span>
        </label>
    }

}
